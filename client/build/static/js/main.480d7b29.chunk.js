(this["webpackJsonpkeeper-app-part-1-starting"]=this["webpackJsonpkeeper-app-part-1-starting"]||[]).push([[0],{92:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),l=a.n(r),c=a(45),s=a(6),i=a(60),u=a(3),m=a(17),p=a(12),g=a(13),d=a.n(g),E=a(26),f=a.n(E),h=a(35),b=a.n(h);var v=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(s.a)(t,2),r=a[0],l=a[1];function c(e){var t=e.target,a=t.name,n=t.value;console.log(a),l((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},a,n))}))}var i=function(t){console.log(t),e.gLogin(t)};return o.a.createElement("div",{className:"login-reg-panel"},o.a.createElement("div",{className:"white-panel"},o.a.createElement("div",{className:"login-show"},o.a.createElement("h2",null,"LOGIN"),o.a.createElement("form",null,o.a.createElement("input",{onChange:c,type:"email",placeholder:"Email",name:"email",value:r.email}),o.a.createElement("input",{onChange:c,type:"password",placeholder:"Password",name:"password",autoComplete:"on",value:r.password}),o.a.createElement("button",{type:"submit",onClick:function(t){if(""===r.email)alert("Email Cannot Be Empty");else if(""===r.password)alert("Password Cannot Be Empty");else e.login(r);l({email:"",password:""}),t.preventDefault()}},"LOGIN")),o.a.createElement("a",{href:"/forgotPass"},"Forgot password?"),o.a.createElement("div",{className:"response"},o.a.createElement("p",null,e.LoginResponse)),console.log(e.LoginResponse+"  pppppppppppp")),o.a.createElement("a",{className:"panel-footer",href:"/register"},"New to Keeper? \xa0",o.a.createElement("span",null,"Sign Up"))),o.a.createElement("div",{className:"text-box"},o.a.createElement("div",{className:"text-box-google"},o.a.createElement(f.a,{clientId:"837365515394-u5pmlk1o41fb91hk735a6bjrgmk2m80n.apps.googleusercontent.com",buttonText:"Log in with Google",render:function(e){return o.a.createElement("button",{className:"google",onClick:e.onClick},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:"https://prodcmscdn.azureedge.net/careerconnectresources/p/MICRUS/en_us/desktop/assets/images/google.png"})),o.a.createElement("div",{className:"text"},o.a.createElement("h3",null,"Sign in with Google")))},onSuccess:i,onFailure:i,cookiePolicy:"single_host_origin"})),o.a.createElement("p",null,"OR"),o.a.createElement("div",{className:"text-box-facebook"},o.a.createElement(b.a,{appId:"2596745693959725",callback:function(t){console.log(t),e.fLogin(t)},render:function(e){return o.a.createElement("button",{className:"facebook",onClick:e.onClick},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:"https://prodcmscdn.azureedge.net/careerconnectresources/p/MICRUS/en_us/desktop/assets/images/fb.jpg"})),o.a.createElement("div",{className:"text"},o.a.createElement("h3",null,"Sign in with Facebook")))}}))))},w=a(57),O=a.n(w);var k=function(e){return o.a.createElement("header",null,o.a.createElement("h1",null,o.a.createElement(O.a,null),"Keeper"),o.a.createElement("h2",null,"Hi, "+e.heading),o.a.createElement("button",{onClick:function(){e.logout()}},"LOGOUT"))};var S=function(){var e=(new Date).getFullYear();return o.a.createElement("footer",null,o.a.createElement("p",{style:{position:"fixed"}},"Copyright \u24d2 ",e))},N=a(58),y=a.n(N);var j=function(e){return o.a.createElement("div",{className:"note"},o.a.createElement("h1",null,e.notesData.title),o.a.createElement("p",null,e.notesData.content),o.a.createElement("button",{onClick:function(){e.deleteNoteById(e.notesData)}},o.a.createElement(y.a,null)))},C=a(111),I=a(59),x=a.n(I),L=a(112),P=a(8),R=a.n(P),D=a(22);function T(){return(T=Object(D.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("NEW NOTES "+JSON.stringify(t)),n=d()({method:"post",url:"/api/users/".concat(a),data:{note:t}}),e.next=4,n;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(D.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("DELETE IS CALLEd"+JSON.stringify(t)),n=d()({method:"delete",url:"/api/users/".concat(a),data:t}),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(D.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d()({method:"post",url:"/register",data:t}),e.next=3,a;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(D.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"post",url:"/api/googleLogin",data:{tokenId:t.tokenId,googleId:t.googleId,email:t.profileObj.email}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return U.apply(this,arguments)}function U(){return(U=Object(D.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GOOGLE DATA  "+t),e.next=3,d()({method:"post",url:"/api/facebookLogin",data:{accessToken:t.accessToken,userID:t.userID,name:t.name}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(D.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({method:"patch",url:"/forgotPass",data:{email:t.email,password:t.password}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(D.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("api/users/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)({title:"",content:""}),i=Object(s.a)(c,2),u=i[0],g=i[1];function d(e){var t=e.target,a=t.name,n=t.value;g((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},a,n))}))}return o.a.createElement("div",null,o.a.createElement("form",{className:"create-note",required:!0},r&&o.a.createElement("input",{onChange:d,type:"text",name:"title",placeholder:"Title",value:u.title}),o.a.createElement("textarea",{onClick:function(){l(!0)},onChange:d,name:"content",placeholder:"Take a note...",rows:r?"3":"1",value:u.content}),o.a.createElement(L.a,{in:r},o.a.createElement(C.a,{type:"submit",onClick:function(t){t.preventDefault(),""===u.title?alert("Title Cannot Be Empty"):""===u.content?alert("Content Cannot Be Empty"):(e.addingItems(u),g({title:"",content:""}))}},o.a.createElement(x.a,null)))))};var z=function(e){var t=Object(n.useState)({email:"",username:"",password:""}),a=Object(s.a)(t,2),r=a[0],l=a[1];function c(e){var t=e.target,a=t.name,n=t.value;console.log(a),l((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},a,n))}))}var i=function(t){console.log(t),e.gLogin(t)};return o.a.createElement("div",{className:"login-reg-panel"},o.a.createElement("div",{className:"white-panel"},o.a.createElement("div",{className:"register-show"},o.a.createElement("h2",null,"REGISTER"),o.a.createElement("form",null,o.a.createElement("input",{onChange:c,type:"email",placeholder:"Email",name:"email",value:r.email}),o.a.createElement("input",{onChange:c,type:"text",placeholder:"Username",name:"username",value:r.username}),o.a.createElement("input",{onChange:c,type:"password",placeholder:"Password",name:"password",value:r.password}),o.a.createElement("button",{onClick:function(t){t.preventDefault(),""===r.email?alert("Email Cannot Be Empty"):""===r.username?alert("Username Cannot Be Empty"):""===r.password?alert("Password Cannot Be Empty"):(e.register(r),console.log(r)),l({email:"",username:"",password:""})}},"Register")))),o.a.createElement("div",{className:"text-box"},o.a.createElement("div",{className:"text-box-google"},o.a.createElement(f.a,{clientId:"837365515394-u5pmlk1o41fb91hk735a6bjrgmk2m80n.apps.googleusercontent.com",buttonText:"Log in with Google",render:function(e){return o.a.createElement("button",{className:"google",onClick:e.onClick},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:"https://prodcmscdn.azureedge.net/careerconnectresources/p/MICRUS/en_us/desktop/assets/images/google.png"})),o.a.createElement("div",{className:"text"},o.a.createElement("h3",null,"Sign in with Google")))},onSuccess:i,onFailure:i,cookiePolicy:"single_host_origin"})),o.a.createElement("p",null,"OR"),o.a.createElement("div",{className:"text-box-facebook"},o.a.createElement(b.a,{appId:"2596745693959725",callback:function(t){console.log(t),e.fLogin(t)},render:function(e){return o.a.createElement("button",{className:"facebook",onClick:e.onClick},o.a.createElement("div",{className:"icon"},o.a.createElement("img",{src:"https://prodcmscdn.azureedge.net/careerconnectresources/p/MICRUS/en_us/desktop/assets/images/fb.jpg"})),o.a.createElement("div",{className:"text"},o.a.createElement("h3",null,"Sign in with Facebook")))}}))))};var H=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(s.a)(t,2),r=a[0],l=a[1];function c(e){var t=e.target,a=t.name,n=t.value;l((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},a,n))}))}return o.a.createElement("div",{className:"login-reg-panel-forgotPass"},o.a.createElement("div",{className:"white-panel-forgotPass"},o.a.createElement("div",{className:"login-show-forgotPass"},o.a.createElement("h2",null,"RESET PASSWORD "),o.a.createElement("form",null,o.a.createElement("input",{onChange:c,type:"email",placeholder:"Email",name:"email",value:r.email,autoComplete:"on"}),o.a.createElement("input",{onChange:c,type:"password",placeholder:"New Password",name:"password",autoComplete:"on",value:r.password}),o.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),""===r.email?alert("Email Cannot Be Empty"):""===r.password?alert("Password Cannot Be Empty"):(e.forgotPassword(r),console.log(r),l({email:"",password:""}))}},"RESET"))),o.a.createElement("div",{className:"panel-footer"},o.a.createElement("a",{href:"/login"},"Sign In"),o.a.createElement("span",null," | "),o.a.createElement("a",{href:"/register"}," Sign Up"))))},K=0;var W=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(!1),m=Object(s.a)(l,2),p=(m[0],m[1],Object(n.useState)([])),g=Object(s.a)(p,2),E=(g[0],g[1]),f=Object(n.useState)([]),h=Object(s.a)(f,2),b=h[0],w=h[1],O=Object(n.useState)(),N=Object(s.a)(O,2),y=N[0],C=N[1],I=Object(n.useState)(""),x=Object(s.a)(I,2),L=(x[0],x[1],localStorage.getItem("rememberMe")),P=localStorage.getItem("username"),R=(localStorage.getItem("googleId"),localStorage.getItem("facebookId"),function(){null!==L&&(console.log("FETCH"),function(e){return _.apply(this,arguments)}(L).then((function(e){console.log("Fetch All Notes Called"),console.log(JSON.stringify(e)+"      Fetch All App"),w(Object(c.a)(e.data.notes))})))});function D(e){console.log(JSON.stringify(e)+"DELENOTEDATA FUNC"),function(e,t){return A.apply(this,arguments)}(e,L).then((function(){console.log("WORKING PROPERLY"),R()}))}function U(e){(function(e){return B.apply(this,arguments)})(e).then((function(e){localStorage.setItem("rememberMe",e.data.email),localStorage.setItem("username",e.data.username),window.location.reload()}))}function W(e){console.log("CALLED "+JSON.stringify(e));F(e);F(e).then((function(e){localStorage.setItem("rememberMe",e.data.email),localStorage.setItem("username",e.data.username),localStorage.setItem("facebookId",e.data.facebookId),window.location.reload()}))}return console.log("count : "+K),0===K&&(K++,R()),o.a.createElement(i.a,null,o.a.createElement("div",null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/login"},null!==L?o.a.createElement(u.a,{to:"/"}):o.a.createElement(v,{gLogin:U,login:function(e){(function(e){return d()({method:"post",url:"/login",data:e})})(e).then((function(e){console.log(e+"RESPONSE"),"Invalid email or password"===e.data||"Password Is incorrect"===e.data?C("Invalid email or password"):(console.log(JSON.stringify(e)+" LOGIN HANDLe"),localStorage.setItem("rememberMe",e.data.email),localStorage.setItem("username",e.data.username),window.location.reload())}))},LoginResponse:y,fLogin:W})),o.a.createElement(u.b,{path:"/register"},a?o.a.createElement(u.a,{to:"/login"}):o.a.createElement(z,{register:function(e){(function(e){return G.apply(this,arguments)})(e).then((function(e){switch(console.log(JSON.stringify(e.data)+"  RESPONSe"),e.data){case"success":r(!0);break;case"Failure":alert("User with this email id already exist"),r(!1)}}))},gLogin:U,fLogin:W})),o.a.createElement(u.b,{path:"/forgotPass"},L?o.a.createElement(u.a,{to:"/login"}):o.a.createElement(H,{forgotPassword:function(e){!function(e){J.apply(this,arguments)}(e)}})),o.a.createElement(u.b,{path:"/"},null!==L?o.a.createElement("div",null,o.a.createElement(k,{heading:P,logout:function(){localStorage.clear(),console.log("STORAGE CLEARED"),window.location.reload()}}),o.a.createElement(M,{addingItems:function(e){console.log(e+L),function(e,t){return T.apply(this,arguments)}(e,L).then((function(e){console.log("RESPONSE "+e),R()})),E((function(t){return[].concat(Object(c.a)(t),[e])}))}}),b.map((function(e,t){var a=e.title,n=e.content,r=e._id;return o.a.createElement(j,{key:t,id:r,title:a,notesData:e,content:n,deleteNoteById:D})})),o.a.createElement(S,null)):o.a.createElement(u.a,{to:"/login"})))))};a(92);l.a.render(o.a.createElement(W,null),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.480d7b29.chunk.js.map